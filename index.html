<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realms Security Office</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #fff;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
            border-bottom: 2px solid #fff;
            padding-bottom: 10px;
        }
        .input-section {
            margin-bottom: 30px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        input, textarea {
            width: 100%;
            padding: 10px;
            background: #000;
            color: #fff;
            border: 2px solid #fff;
            font-family: 'Courier New', monospace;
            margin-bottom: 15px;
        }
        button {
            background: #fff;
            color: #000;
            border: none;
            padding: 12px 30px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 16px;
        }
        button:hover {
            background: #ccc;
        }
        .results {
            margin-top: 30px;
            border: 2px solid #fff;
            padding: 20px;
            display: none;
        }
        .result-item {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #666;
        }
        .result-item:last-child {
            border-bottom: none;
        }
        .result-label {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .result-value {
            margin-left: 10px;
        }
        .safety-rating {
            margin-top: 20px;
            padding: 15px;
            border: 3px solid #fff;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
        }
        .rating-safe { background: #fff; color: #000; }
        .rating-caution { background: #666; color: #fff; }
        .rating-danger { background: #333; color: #fff; border-color: #fff; }
        .loading {
            text-align: center;
            padding: 20px;
            display: none;
        }
        .error {
            color: #fff;
            background: #333;
            padding: 15px;
            border: 2px solid #fff;
            margin-top: 15px;
            display: none;
        }
        .group-list, .badge-list, .username-list, .friends-info {
            margin-left: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>REALMS BACKGROUND CHECK DATA</h1>
        
        <div class="input-section">
            <label for="userId">User ID:</label>
            <input type="text" id="userId" placeholder="Enter Roblox User ID">
            
            <button onclick="checkUser()">RUN CHECK</button>
        </div>

        <div class="loading" id="loading">LOADING DATA...</div>
        <div class="error" id="error"></div>

        <div class="results" id="results">
            <div class="result-item">
                <div class="result-label">ROBLOX USERNAME:</div>
                <div class="result-value" id="username"></div>
            </div>
            <div class="result-item">
                <div class="result-label">ROBLOX PROFILE LINK:</div>
                <div class="result-value" id="profileLink"></div>
            </div>
            <div class="result-item">
                <div class="result-label">JOIN DATE:</div>
                <div class="result-value" id="joinDate"></div>
            </div>
            <div class="result-item">
                <div class="result-label">ACCOUNT AGE:</div>
                <div class="result-value" id="accountAge"></div>
            </div>
            <div class="result-item">
                <div class="result-label">PREVIOUS USERNAMES:</div>
                <div class="username-list" id="previousUsernames"></div>
            </div>
            <div class="result-item">
                <div class="result-label">FRIENDS LIST CHECK:</div>
                <div class="friends-info" id="friendsCheck"></div>
            </div>
            <div class="result-item">
                <div class="result-label">GROUPS THEY ARE IN:</div>
                <div class="group-list" id="groups"></div>
            </div>
            <div class="result-item">
                <div class="result-label">KNOWN HOSTILE/EXPLOIT GROUPS:</div>
                <div class="group-list" id="hostileGroupsFound"></div>
            </div>
            <div class="result-item">
                <div class="result-label">GAME BADGES / ACTIVITY:</div>
                <div class="badge-list" id="badges"></div>
            </div>
            
            <div class="safety-rating" id="safetyRating"></div>
        </div>
    </div>

    <script>
        const PROXY = 'https://corsproxy.io/?';
        const HOSTILE_GROUPS = ['12345', '67890', '11111', '22222', '33333'];

        async function checkUser() {
            const userId = document.getElementById('userId').value.trim();
            
            if (!userId) {
                showError('Please enter a User ID');
                return;
            }

            hideError();
            showLoading();
            hideResults();

            try {
                const userInfo = await fetch(`${PROXY}https://users.roblox.com/v1/users/${userId}`).then(r => r.json());
                
                const [previousNames, friends, groups, badges] = await Promise.all([
                    fetch(`${PROXY}https://users.roblox.com/v1/users/${userId}/username-history`).then(r => r.json()).catch(() => ({data: []})),
                    fetch(`${PROXY}https://friends.roblox.com/v1/users/${userId}/friends/count`).then(r => r.json()).catch(() => ({count: 0})),
                    fetch(`${PROXY}https://groups.roblox.com/v2/users/${userId}/groups/roles`).then(r => r.json()).catch(() => ({data: []})),
                    fetch(`${PROXY}https://badges.roblox.com/v1/users/${userId}/badges?limit=100`).then(r => r.json()).catch(() => ({data: []}))
                ]);

                displayResults(userInfo, previousNames, friends, groups, badges);
                calculateSafetyRating(userInfo, previousNames, friends, groups, badges);
                
            } catch (error) {
                showError('Failed to fetch user data. Check the User ID and try again.');
            } finally {
                hideLoading();
            }
        }

        function displayResults(user, prevNames, friends, groups, badges) {
            document.getElementById('username').textContent = user.displayName || user.name || 'N/A';
            document.getElementById('profileLink').innerHTML = `<a href="https://www.roblox.com/users/${user.id}/profile" target="_blank" style="color: #fff;">https://www.roblox.com/users/${user.id}/profile</a>`;
            
            const joinDate = new Date(user.created);
            document.getElementById('joinDate').textContent = joinDate.toLocaleDateString();
            
            const accountAgeDays = Math.floor((new Date() - joinDate) / (1000 * 60 * 60 * 24));
            const accountAgeYears = Math.floor(accountAgeDays / 365);
            const remainingDays = accountAgeDays % 365;
            document.getElementById('accountAge').textContent = `${accountAgeYears} years, ${remainingDays} days (${accountAgeDays} total days)`;
            
            const prevNamesEl = document.getElementById('previousUsernames');
            if (prevNames.data && prevNames.data.length > 0) {
                prevNamesEl.textContent = prevNames.data.map(n => n.name).join(', ');
            } else {
                prevNamesEl.textContent = 'No previous usernames';
            }
            
            document.getElementById('friendsCheck').textContent = `${friends.count || 0} friends`;
            
            const groupsEl = document.getElementById('groups');
            if (groups.data && groups.data.length > 0) {
                groupsEl.innerHTML = groups.data.map(g => `${g.group.name} (ID: ${g.group.id})`).join('<br>');
            } else {
                groupsEl.textContent = 'Not in any groups';
            }
            
            const hostileGroupsEl = document.getElementById('hostileGroupsFound');
            const userGroupIds = groups.data ? groups.data.map(g => g.group.id.toString()) : [];
            const foundHostile = HOSTILE_GROUPS.filter(hId => userGroupIds.includes(hId));
            
            if (foundHostile.length > 0) {
                hostileGroupsEl.textContent = `ALERT: Found in ${foundHostile.length} hostile group(s): ${foundHostile.join(', ')}`;
            } else {
                hostileGroupsEl.textContent = 'None detected';
            }
            
            const badgesEl = document.getElementById('badges');
            if (badges.data && badges.data.length > 0) {
                badgesEl.textContent = `${badges.data.length} badges earned`;
            } else {
                badgesEl.textContent = 'No badges - HAZARD';
            }
            
            showResults();
        }

        function calculateSafetyRating(user, prevNames, friends, groups, badges) {
            let riskScore = 0;
            let reasons = [];
            
            const joinDate = new Date(user.created);
            const accountAgeDays = Math.floor((new Date() - joinDate) / (1000 * 60 * 60 * 24));
            
            if (accountAgeDays < 30) {
                riskScore += 3;
                reasons.push('Very new account');
            } else if (accountAgeDays < 180) {
                riskScore += 2;
                reasons.push('New account');
            }
            
            if (!badges.data || badges.data.length === 0) {
                riskScore += 3;
                reasons.push('No badges');
            } else if (badges.data.length < 5) {
                riskScore += 1;
                reasons.push('Few badges');
            }
            
            if (friends.count === 0) {
                riskScore += 2;
                reasons.push('No friends');
            } else if (friends.count < 5) {
                riskScore += 1;
                reasons.push('Few friends');
            }
            
            if (!groups.data || groups.data.length === 0) {
                riskScore += 1;
                reasons.push('Not in any groups');
            }
            
            const userGroupIds = groups.data ? groups.data.map(g => g.group.id.toString()) : [];
            const foundHostile = HOSTILE_GROUPS.filter(hId => userGroupIds.includes(hId));
            
            if (foundHostile.length > 0) {
                riskScore += 10;
                reasons.push('IN HOSTILE GROUP - IMMEDIATE THREAT');
            }
            
            const ratingEl = document.getElementById('safetyRating');
            let ratingText = '';
            let ratingClass = '';
            
            if (riskScore >= 7) {
                ratingText = 'DANGER - LIKELY ALT OR THREAT';
                ratingClass = 'rating-danger';
            } else if (riskScore >= 4) {
                ratingText = 'CAUTION - SUSPICIOUS ACTIVITY';
                ratingClass = 'rating-caution';
            } else {
                ratingText = 'SAFE - LEGITIMATE ACCOUNT';
                ratingClass = 'rating-safe';
            }
            
            ratingEl.textContent = `${ratingText}\nRisk Score: ${riskScore}/10\nFlags: ${reasons.join(', ') || 'None'}`;
            ratingEl.className = `safety-rating ${ratingClass}`;
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'block';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function showResults() {
            document.getElementById('results').style.display = 'block';
        }

        function hideResults() {
            document.getElementById('results').style.display = 'none';
        }

        function showError(message) {
            const errorEl = document.getElementById('error');
            errorEl.textContent = message;
            errorEl.style.display = 'block';
        }

        function hideError() {
            document.getElementById('error').style.display = 'none';
        }
    </script>
</body>
</html>
